<!DOCTYPE html>
<html lang="en" class="upload-page">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Item</title>
    <link rel="stylesheet" href="/styles.css">
    <script src="/script.js" defer></script>
</head>
<body class="upload-page">

    <!-- Transparent Navbar -->
    <div class="navbar">
        <a href="/">Home</a> |
        <a href="/shopping.html">Shopping</a> |
        <a href="/fashion.html">Fashion</a> |
        <a href="/yours-truly.html">Yours Truly</a> |
        <a href="https://open.spotify.com" target="_blank" rel="noopener noreferrer">Music</a> |
        <a href="/friends.html">Friends</a> |
        <a href="#">Mail</a> |
        <a href="/profile">Profile</a>
    </div>

    <div class="page-wrapper">
        <div class="container">
            <div class="main">
                <div class="section-title">Upload Item</div>
                <form id="uploadForm" class="auth-form" enctype="multipart/form-data">
                    <input type="text" name="name" placeholder="Item Name" required>
                    <input type="file" name="image" accept="image/*" required>
                    <button type="submit">Upload</button>
                </form>
            </div>
        </div>
    </div>

<script>
document.getElementById("uploadForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const res = await fetch("/upload-item", {
        method: "POST",
        body: formData
    });
    const data = await res.json();
    if (res.ok && data.success) {
        window.location = "/fashion.html";
    } else {
        alert(data.message || "Upload failed.");
    }
});
</script>

</body>
</html>
